import{r as h,b as d,o as s,d as m,w as p,e as _,f as l,u as v,i as g,t as y,n as f,p as k,q as x,k as S,h as $,s as w,v as B,c,x as b,F as C,l as U,m as V,a as D}from"./index-eeba86cf.js";const F={alt:"",class:"main__search-list-item-img"},N={class:"main__search-list-item-title"},T={__name:"SearchContent",props:{item:Object},setup(e){return(t,r)=>{const a=h("router-link"),n=d("lazy");return s(),m(a,{to:e.item.media_type+"/"+e.item.id,class:"main__search-list-item"},{default:p(()=>[_(l("img",F,null,512),[[n,v(g)+e.item.backdrop_path]]),l("h2",N,y(e.item.name||e.item.title),1)]),_:1},8,["to"])}}},q=f("search",{state:()=>({url:"https://api.themoviedb.org/3/",result:null}),actions:{async searching(e){try{let t=await k.get(`${this.url}search/multi?api_key=${x}&language=ru-RU&query=${e}`);this.result=t.data.results,console.log(this.result)}catch(t){console.error("Ошибка при поиске"+t)}}}}),z={class:"main__search"},R={class:"container"},j={key:0,class:"main__search-list"},E={__name:"Search",setup(e){const t=q(),r=S(()=>t.result),a=$("");let n=null;return w(a,o=>{clearTimeout(n),n=setTimeout(()=>{t.searching(o)},500)}),B(()=>{t.result=null}),(o,u)=>(s(),c("div",z,[l("div",R,[_(l("input",{type:"text",class:"main__search-input",placeholder:"Найти фильм, сериал...","onUpdate:modelValue":u[0]||(u[0]=i=>a.value=i)},null,512),[[b,a.value]]),r.value?(s(),c("div",j,[(s(!0),c(C,null,U(r.value,i=>(s(),m(T,{key:i.id,item:i},null,8,["item"]))),128))])):V("",!0)])]))}},K={class:"main"},M={__name:"SearchPage",setup(e){return(t,r)=>(s(),c("main",K,[D(E)]))}};export{M as default};
